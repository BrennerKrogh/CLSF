(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{3408:(e,a,r)=>{Promise.resolve().then(r.bind(r,8404)),Promise.resolve().then(r.bind(r,759)),Promise.resolve().then(r.bind(r,2137))},8404:(e,a,r)=>{"use strict";r.d(a,{default:()=>d});var l=r(5155),s=r(2115),t=r(9670),o=r(6203),n=r(5695);function d(){let e="true"==(0,n.useSearchParams)().get("edit"),[a,r]=(0,s.useState)(e),[d,c]=(0,s.useState)({profilePicture:"/placeholder-avatar.png",username:"",name:"",major:"",schoolYear:"",school:"",location:"",bio:""});(0,s.useEffect)(()=>{let e=t.j2.onAuthStateChanged(async e=>{e&&c(await (0,t.lP)(e.uid)||{profilePicture:"/placeholder-avatar.png",username:"username",name:"name",major:"major",schoolYear:"2025",school:"UCSC",location:"Santa Cruz",bio:"Nice to meet you"})});return()=>e()},[]);let i=e=>{let{name:a,value:r}=e.target;c({...d,[a]:r})},m=async()=>{let e=t.j2.currentUser;e&&(await (0,t.Yh)(e.uid,d),console.log("Profile saved")),r(!1)},g=async()=>{if(window.confirm("Are you sure you want to permanently delete your account?"))try{await (0,t.lw)(),alert("Account deleted successfully."),window.location.href="/login"}catch(e){alert("Failed to delete account: "+(e instanceof Error?e.message:"An unknown error occurred"))}},u=async()=>{try{await (0,o.CI)(t.j2),alert("Signed out successfully."),window.location.href="/login"}catch(e){e instanceof Error?alert("Sign out failed: "+e.message):alert("Sign out failed: An unknown error occurred.")}};return(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold",children:"Profile Information"}),a?(0,l.jsxs)("div",{className:"space-x-3",children:[(0,l.jsx)("button",{onClick:()=>r(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 transition",children:"Cancel"}),(0,l.jsx)("button",{onClick:m,className:"px-4 py-2 text-white bg-purple-600 rounded hover:bg-purple-700 transition",children:"Save Changes"})]}):(0,l.jsx)("button",{onClick:()=>r(!0),className:"px-4 py-2 text-white bg-purple-600 rounded hover:bg-purple-700 transition",children:"Edit Profile"})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"md:col-span-1 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"w-32 h-32 relative rounded-full overflow-hidden border-4 border-purple-100 dark:border-purple-900 mb-4",children:(0,l.jsx)("div",{className:"w-full h-full bg-gray-300 dark:bg-gray-700 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-16 h-16 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),a&&(0,l.jsx)("button",{className:"px-3 py-1 text-sm text-white bg-purple-600 rounded hover:bg-purple-700 transition",children:"Change Photo"})]}),(0,l.jsxs)("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"col-span-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),a?(0,l.jsx)("input",{type:"text",name:"username",value:d.username,onChange:i,className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800"}):(0,l.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:d.username})]}),(0,l.jsxs)("div",{className:"col-span-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),a?(0,l.jsx)("input",{type:"text",name:"name",value:d.name,onChange:i,className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800"}):(0,l.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:d.name})]}),(0,l.jsxs)("div",{className:"col-span-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Major"}),a?(0,l.jsx)("input",{type:"text",name:"major",value:d.major,onChange:i,className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800"}):(0,l.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:d.major})]}),(0,l.jsxs)("div",{className:"col-span-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"School Year"}),a?(0,l.jsxs)("select",{name:"schoolYear",value:d.schoolYear,onChange:i,className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800",children:[(0,l.jsx)("option",{value:"Freshman",children:"Freshman"}),(0,l.jsx)("option",{value:"Sophomore",children:"Sophomore"}),(0,l.jsx)("option",{value:"Junior",children:"Junior"}),(0,l.jsx)("option",{value:"Senior",children:"Senior"}),(0,l.jsx)("option",{value:"Graduate",children:"Graduate"})]}):(0,l.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:d.schoolYear})]}),(0,l.jsxs)("div",{className:"col-span-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"School"}),a?(0,l.jsx)("input",{type:"text",name:"school",value:d.school,onChange:i,className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800"}):(0,l.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:d.school})]}),(0,l.jsxs)("div",{className:"col-span-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),a?(0,l.jsx)("input",{type:"text",name:"location",value:d.location,onChange:i,className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800"}):(0,l.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:d.location})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bio"}),a?(0,l.jsx)("textarea",{name:"bio",value:d.bio,onChange:i,rows:4,className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded dark:bg-gray-800"}):(0,l.jsx)("p",{className:"text-gray-900 dark:text-gray-100",children:d.bio})]})]})]}),(0,l.jsxs)("div",{className:"mt-4 flex space-x-4",children:[(0,l.jsx)("button",{onClick:u,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition",children:"Sign Out"}),(0,l.jsx)("button",{onClick:g,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Delete Account"})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[507,965,463,244,879,441,684,358],()=>a(3408)),_N_E=e.O()}]);